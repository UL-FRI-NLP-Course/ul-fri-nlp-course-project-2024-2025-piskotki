Bootstrap: docker
From: pytorch/pytorch:1.12.1-cuda11.3-cudnn8-runtime

%post
    apt-get update && apt-get install -y git wget curl build-essential
    pip install --upgrade pip

    # Install specific versions that work with Python 3.7
    pip install \
        faiss-gpu==1.7.2 \
        transformers==4.29.2 \
        datasets==2.12.0 \
        flask==2.2.5 \
        pandas==1.3.5 \
        numpy==1.21.6
    pip install sentence-transformers
    pip install accelerate
    pip install rouge_score
    pip install matplotlib
    pip install seaborn
    pip install tqdm
    pip install nltk
    pip install scikit-learn
    pip install scipy
    pip install rouge

%environment
    export LC_ALL=C
    export LANG=C